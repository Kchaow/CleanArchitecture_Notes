Принцип инверсии зависимости (Dependency Inversion Principle; DIP) утверждает, что наиболее rибкими получаются системы, в которых зависимости в исходном коде направлены на абстракции, а не на конкретные реализации.

Правила:
- Не ссылайтесь на изменчивые конкретные классы
- Не наследуйте изменчивые конкретные классы
- Не переопределяйте конкретные функции

Для соблюдения правил необходимо предусмотреть особый способ создания изменчивых объектов, так как в большинстве случаев создание объекта связано с образованием зависимости на уровне исходного уровня. Для этого можно использовать шаблон Абстрактная фабрика. 
![[Pasted image 20250728223601.png]]

Извилистая линия на рис. 11.1 обозначает архитектурную rраниц Она отделяет абстракцию от конкретной реализации. Все зависимости в исходном коде пересекают эту rраницу в одном направлении в сторону абстракции. Поток управления при этом пересекает извилистую линию в направлении, обратном направлению зависимости в исходном коде. 

Полностью устранить любые нарушения принципа инверсии зависимости невозможно,
но их можно сосредоточить в узком Kpyre конкретных компонентов и изолировать от остальной системы.